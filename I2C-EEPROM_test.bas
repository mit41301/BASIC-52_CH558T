
I2C-EEPROM WRITEテストプログラム

100    FOR J=0 TO 63
200    I2CSTART
300    I2CPUT 0A0H
400   SADR=J*16
410   SADRH=INT(SADR/256)
420   SADRL=SADR.AND.0FFH
500    I2CPUT SADRH
600    I2CPUT SADRL
700    FOR I=0 TO 15
800   WD=SADR+I
810   WD=WD.AND.0FFH
900    I2CPUT WD
1000   NEXT I
1100   I2CSTOP
1200   FOR I=0 TO 200 :  NEXT I
1300   NEXT J


I2C-EEPROM READテストプログラム

100    FOR J=0 TO 63
200    I2CSTART
300    I2CPUT 0A0H
400   SADR=J*16
410   SADRH=INT(SADR/256)
420   SADRL=SADR.AND.0FFH
500    I2CPUT SADRH
600    I2CPUT SADRL
700    I2CSTART
710    I2CPUT 0A1H
800    FOR I=0 TO 15
810    IF I=15 THEN ACK=1 ELSE ACK=0
900    I2CGET (ACK)RD
910    PRINT RD,
920    NEXT I
930    PRINT
1100   I2CSTOP
1300   NEXT J






